<div class="flex mt-5">
  <app-sidebar [current]="'Students'" [role]="'Principal'"></app-sidebar>
  <div class="px-2 md:px-6 flex-1">
    <a routerLink="/dashboard" (click)="toStudentList()">
      <button class="flex space-x-2 font-bold items-center">
        <fa-icon [icon]="faArrowLeft"></fa-icon>
        <span>Back to students</span>
      </button>
    </a>
    <div class="mt-5">
      <h1 class="font-bold text-xl md:text-2xl">Create new student</h1>
      <form class="space-y-10 mt-3" (submit)="submit()">
        <div class="space-y-5">
          <div class="">
            <input
              name="name"
              [class.err]="isError('name')"
              [(ngModel)]="name"
              type="text"
              placeholder="Full Name"
              class="focus:border-blue-500 transition duration-300 ease-in bg-gray-300 outline-none px-5 py-2 w-full md:w-[70%] mx-auto border-b-2 border-gray-400"
            />
            <p class="text-red-500 font-semibold text-xs">
              {{ displayError("name") }}
            </p>
          </div>
          <div class="">
            <input
              [class.err]="isError('email')"
              name="email"
              [(ngModel)]="email"
              type="email"
              placeholder="Email"
              class="focus:border-blue-500 transition duration-300 ease-in bg-gray-300 outline-none px-5 py-2 w-full md:w-[70%] mx-auto border-b-2 border-gray-400"
            />
            <p class="text-red-500 font-semibold text-xs">
              {{ displayError("email") }}
            </p>
          </div>
          <div>
            <label class="text-lg font-semibold">Subject Classes</label>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-y-3 md:gap-x-2">
              <div
                *ngFor="let s of subjectClasses"
                [class.selected]="selected[s.id] === true"
                class="hover:bg-blue-400 hover:text-white transition duration-300 ease-in w-full cursor-pointer border-blue-400 border px-3 py-1 rounded"
                (click)="select(s.id)"
              >
                <input
                  [id]="s.id"
                  defaultValue="off"
                  type="checkbox"
                  class="hidden"
                  name="subjectClass"
                />
                <span> {{ s.class.className }} {{ s.subject.name }} </span>
              </div>
            </div>
            <p class="text-red-500 font-semibold text-xs">
              {{ displayError("subjectClasses") }}
            </p>
          </div>
        </div>
        <p class="text-red-500 font-semibold text-xs">
          {{ displayError() }}
        </p>
        <div class="">
          <input
            value="Create Student"
            type="submit"
            class="cursor-pointer w-full md:w-[70%] bg-black rounded-md px-3 py-2 text-white shadow-md"
          />
        </div>
      </form>
    </div>
  </div>
</div>
